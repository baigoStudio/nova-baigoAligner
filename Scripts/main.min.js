"use strict";nova.commands.register("baigoAligner.alignEquals",e=>{var r=e.selectedRanges.reverse();e.edit(function(n){for(var t of r){var i=e.getTextInRange(t),o=baigoAligner.align(i,"=");n.delete(t),n.insert(t.start,o)}}),e.scrollToCursorPosition()}),nova.commands.register("baigoAligner.removeBeforeEqual",e=>{var r=e.selectedRanges.reverse();e.edit(function(n){for(var t of r){var i=e.getTextInRange(t),o=baigoAligner.align(i,"=",!0);n.delete(t),n.insert(t.start,o)}}),e.scrollToCursorPosition()}),nova.commands.register("baigoAligner.alignColons",e=>{var r=e.selectedRanges.reverse();e.edit(function(n){for(var t of r){var i=e.getTextInRange(t),o=baigoAligner.align(i,":");n.delete(t),n.insert(t.start,o)}}),e.scrollToCursorPosition()}),nova.commands.register("baigoAligner.removeBeforeColon",e=>{var r=e.selectedRanges.reverse();e.edit(function(n){for(var t of r){var i=e.getTextInRange(t),o=baigoAligner.align(i,":",!0);n.delete(t),n.insert(t.start,o)}}),e.scrollToCursorPosition()}),nova.commands.register("baigoAligner.stripTags",e=>{var r=e.selectedRanges.reverse();e.edit(function(n){for(var t of r){var i=e.getTextInRange(t),o=baigoAligner.stripTags(i);n.delete(t),n.insert(t.start,o)}}),e.scrollToCursorPosition()});var baigoAligner={align:function(e,r,n){var t=e.split("\n");return void 0===r&&(r="="),"="==r&&(e.indexOf(".=")>0?r=".=":e.indexOf("+=")>0&&(r="+=")),void 0===n&&(n=!1),baigoAligner.getText(t,r,n)},getTrim:function(e,r){var n="";switch(void 0===r&&(r=""),r){case"left":n=e.replace(/(^\s*)/g,"");break;case"right":n=e.replace(/(\s*$)/g,"");break;default:n=e.trim()}return n},getLongest:function(e,r){var n=0;for(var t of e)if(t.indexOf(r)>0){var i=t.split(r)[0].trim();i.length>n&&(n=i.length)}return n},getText:function(e,r,n){var t="",i=baigoAligner.getLongest(e,r),o=e[e.length-1];for(var a of e){var g="";a.indexOf(r)>0?g+=baigoAligner.getLine(a,r,i,n):g+=a,t+=g,a!=o&&(t+="\n")}return t},getLine:function(e,r,n,t){var i="",o=e.split(r),a=o[0].trim(),g=o[o.length-1],s=n-a.length;if(o[0]=baigoAligner.getTrim(o[0],"right"),!0!==t&&s>0)for(var l=0;l<s;l++)o[0]+=" ";for(var v of("="!=r&&".="!=r&&"+="!=r||(o[0]+=" "),o))i+=v,v!=g&&(i+=r);return i},stripTags(e){var r="";return"string"==typeof e&&(r=e.replace(/(<([^>]+)>)/gi,"")),r}};
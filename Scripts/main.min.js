"use strict";nova.commands.register("baigoAligner.alignEquals",e=>{var r=e.selectedRanges.reverse();e.edit(function(n){for(var i of r){var t=e.getTextInRange(i),o=baigoAligner.align(t,"=");n.delete(i),n.insert(i.start,o)}}),e.scrollToCursorPosition()}),nova.commands.register("baigoAligner.removeBeforeEqual",e=>{var r=e.selectedRanges.reverse();e.edit(function(n){for(var i of r){var t=e.getTextInRange(i),o=baigoAligner.align(t,"=",!0);n.delete(i),n.insert(i.start,o)}}),e.scrollToCursorPosition()}),nova.commands.register("baigoAligner.alignColons",e=>{var r=e.selectedRanges.reverse();e.edit(function(n){for(var i of r){var t=e.getTextInRange(i),o=baigoAligner.align(t,":");n.delete(i),n.insert(i.start,o)}}),e.scrollToCursorPosition()}),nova.commands.register("baigoAligner.removeBeforeColon",e=>{var r=e.selectedRanges.reverse();e.edit(function(n){for(var i of r){var t=e.getTextInRange(i),o=baigoAligner.align(t,":",!0);n.delete(i),n.insert(i.start,o)}}),e.scrollToCursorPosition()});var baigoAligner={align:function(e,r,n){var i=e.split("\n");return void 0===r&&(r="="),"="==r&&(e.indexOf(".=")>0?r=".=":e.indexOf("+=")>0&&(r="+=")),void 0===n&&(n=!1),baigoAligner.getText(i,r,n)},getTrim:function(e,r){var n="";switch(void 0===r&&(r=""),r){case"left":n=e.replace(/(^\s*)/g,"");break;case"right":n=e.replace(/(\s*$)/g,"");break;default:n=e.trim()}return n},getLongest:function(e,r){var n=0;for(var i of e)if(i.indexOf(r)>0){var t=i.split(r)[0].trim();t.length>n&&(n=t.length)}return n},getText:function(e,r,n){var i="",t=baigoAligner.getLongest(e,r),o=e[e.length-1];for(var a of e){var g="";a.indexOf(r)>0?g+=baigoAligner.getLine(a,r,t,n):g+=a,i+=g,a!=o&&(i+="\n")}return i},getLine:function(e,r,n,i){var t="",o=e.split(r),a=o[0].trim(),g=o[o.length-1],s=n-a.length;if(o[0]=baigoAligner.getTrim(o[0],"right"),!0!==i&&s>0)for(var l=0;l<s;l++)o[0]+=" ";for(var v of("="!=r&&".="!=r&&"+="!=r||(o[0]+=" "),o))t+=v,v!=g&&(t+=r);return t}};